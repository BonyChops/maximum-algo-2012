((function(){var a,b;a=20,b=4,$(function(){var c,d,e,f;return f=function(){var b,c;return b=$("<ul/>").appendTo($(".contents-menu")),c=1,function(d,e){var f,g,h,i,j;h=d.tagName.match(/h(\d)/i);if(h==null)return;i=+h[1];if(c<i)for(f=c;c<=i?f<i:f>i;c<=i?f++:f--)g=b.children("li:last"),g.size()===0&&(g=$("<li/>").appendTo(b)),b=$("<ul/>").appendTo(g);else if(i<c)for(f=i;i<=c?f<c:f>c;i<=c?f++:f--)b=b.parent().parent();return c=i,j=$(d).text(),j.length>a+2&&(j=j.slice(0,a)+"..."),b.append($("<li/>").append($("<a/>").attr({href:"#"+e}).text(j)))}}(),c={},d=location.hash.slice(1),e=$("h1,h2,h3,h4,h5").each(function(){var a,b;b=$(this),a=b.text().replace(/\s+/,"-").replace(/\?/,"");while(c[a])a+="'";c[a]=!0,f(this,a),$("<a/>").addClass("anchor").attr({name:a,id:a,href:"#"+a}).text("Â¶").prependTo(b);if(a===d)return setTimeout(function(){return $("html, body").scrollTop(b.offset().top)},1)}),e.size()<b&&$(".contents-menu").remove(),setTimeout(function(){return $("body").scrollspy()},1)})})).call(this);